spring.application.name=hystrix-consumer
server.port=50000
# 允许feign上bean的重载
spring.main.allow-bean-definition-overriding=true
eureka.client.service-url.defaultZone=http://peer1.com:20000/eureka/

#################################
### Hystrix配置
#################################
# 开启Feign下Hystrix功能
feign.hystrix.enabled=true
# 是否开启服务降级（默认开启）
hystrix.command.default.fallback.enabled=true

# 全局超时
hystrix.command.default.execution.timeout.enabled=true
# 超时时间
hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds=10000
# 超时以后中止线程（超时以后终止线程）
hystrix.command.default.execution.isolation.thread.intteruptOnTimeout=true
# 取消的时候终止线程（取消时终止线程）
hystrix.command.default.execution.isolation.thread.intteruptOnFutureCancel=true
# 服务和方法级别的超时配置（会覆盖全局的配置）
hystrix.command.MyService#timeout(int).execution.isolation.thread.timeoutInMilliseconds=3000

######################
### Feign超时配置
######################
# 链接超时时间
cloud-user-service.ribbon.ConnectTimeout=1000
# 业务处理超时时间
cloud-user-service.ribbon.ReadTimeout=2000
### 指定服务的配置（优先级更高）
# 每台独立机器最大的重试次数
cloud-user-service.ribbon.MaxAutoRetries=2
# 可以再重试几台机器（重试次数由feign-client.ribbon.MaxAutoRetries指定）
cloud-user-service.ribbon.MaxAutoRetriesNextServer=2
# 是否在所有http method上进行重试（谨慎开启：非幂等性接口会造成数据不一致。所以在POST PUT DELETE方式的接口一定要保证实现了严格的幂等性）
cloud-user-service.ribbon.OkToRetryOnAllOperations=false